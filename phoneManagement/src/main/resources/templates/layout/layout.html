<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

    <meta name="_csrf_header" th:content="${_csrf.headerName}">
    <meta name="_csrf" th:content="${_csrf.token}">
`
<!--    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->

    <script src="https://code.jquery.com/jquery-1.7.min.js"></script>
<!--    날짜 라이브러리-->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.30.1/moment.min.js"></script>
    <script src="/js/common/common.js"></script>
    <script src="/js/layout/sse_header.js"></script>
<!--    웹소켓 STOMP 라이브러리-->
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <title>MOMO</title>
</head>
<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
<input type="hidden" id="user_id" sec:authorize="isAuthenticated()"  th:value="${#authentication.getPrincipal().getUsername()}"/>
<input type="hidden" id="user_nm" th:value="${user_nm}">
<input type="hidden" id="user_role" sec:authorize="isAuthenticated()" th:value="${#authentication.getAuthorities().iterator().next().getAuthority()}"/>
<input type="hidden" id="approved" sec:authorize="hasAuthority('APPROVED')" th:value="1"/>


<header th:replace="~{/layout/header :: header}"></header>
<body>
    <div sec:authorize="!hasAuthority('ADMIN') and !hasAuthority('APPROVE')">
        <h3>아직 승인이 허락되지 않은 사용자입니다.</h3>
    </div>
    <th:block sec:authorize="hasAuthority('ADMIN') || hasAuthority('APPROVE') || hasAuthority('NONE')" layout:fragment="content"></th:block>
</body>
<footer th:replace="~{/layout/footer :: footer}"></footer>
</html>